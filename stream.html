<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Steam page</title>

<!-- Loading Bootstrap -->
    <link href="flatui/bootstrap/css/bootstrap.css" rel="stylesheet">
<!-- Loading Flat UI -->
    <link href="flatui/css/flat-ui.css" rel="stylesheet">

  <!-- Global CSS for the page and tiles -->
  <link rel="stylesheet" href="woomark/css/main.css">
    <!-- stylesheet for stream page -->
   <link rel="stylesheet" href="stream.css">
</head>
<body >

<div class="top-bar">
    <div class="row">
        <div class="col-md-4">
            <div id="search_box" >
                 <div class="form-group">
                            <div class="input-group">
                              <input type="text" class="form-control" placeholder="What you are looking for?" id="search">
                              <span class="input-group-btn">
                                    <button type="submit" class="btn"><span class="fui-search"></span></button>
                              </span>
                            </div>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div id="logo">

            </div>
        </div>
        <div class="col-md-4">
           <div id="right_bar" >
                    <span id="user" class="fui-user"></span>
                    <button id="add_new_item" class="btn btn-embossed btn-primary">Add New Item</button>

                    <div id="notification" style="display: inline">
                         <ul id="notification_bar" class="nav navbar-nav">
                             <li>
                                 <a href="#">
                                     <span id="bell" class="glyphicon glyphicon-bell" ></span>

                                 </a>

                             </li>
                             <li>
                                 <!-- Unread Indicator with number -->
                                 <span id="unread"class="navbar-new" >2</span>
                             </li>
                         </ul>
                    </div>
            </div>

        </div>

    </div>
</div>
<div class="row"></div>

<!-- Large modal -->

<div id="modal_item" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" >
    <div id="modal_item_dialog" class="modal-dialog modal-lg">
        <div id="modal_item_content"class="modal-content" >
            <div class="row">
                <div class="col-md-12 ">
                    <div id="modal_item_header">
                        <h3>Retro Bike</h3>

                            <span id="modal_footer">
                                <span class="glyphicon glyphicon-time"></span>
                                &nbsp;2days
                                <span class="glyphicon glyphicon-eye-open"></span>
                                &nbsp;86
                                <span class="glyphicon glyphicon-heart-empty"></span>
                                &nbsp;122
                            </span>


                    </div>
                    <div style="height:10px;"></div>
                </div>
                <div class="col-md-9 ">
                    <div id="modal_item_div" >

                    </div>
                </div>

                <div class="col-md-3">
                    <div id="profile"></div>
                    <div style="height:10px;"></div>
                    <div id="down_to_profile"></div>
                </div>

                <div class="col-md-12 ">
                    <div style="height:10px;"></div>
                    <div id="modal_item_details">
                        <p id="text">
                            Totally restored retro fixi-bike with premium parts, no gear, 28” aluminium city tires, Brooks vintage saddle, Retro paddles, all aluminimum parts.
                        </p>
                        <button id="btn_interested"class="btn btn-custom"> I am interested</button>
                        <span id="footer">Bike&nbsp;&nbsp;Retro&nbsp;&nbsp;Brooks&nbsp;&nbsp;Fixi&nbsp;&nbsp;Vintage</span>
                    </div>
                    <div style="height:10px;"></div>
                    <div id="conversation">
                        <div id="control_group">
                            <div class="input-group">
                                <span class="input-group-btn">
                                    <button id="camera" class="btn btn-default btn" type="button">
                                        <span class="glyphicon glyphicon-camera" ></span>
                                    </button>
                                </span>
                                <input type="text" class="form-control" placeholder="Type your message here...">

                            </div>
                            <button id="send" class="btn btn-embossed btn-primary" type="button">
                                Send
                            </button>
                        </div>
                    </div>
                    <div id="right_to_conversation"></div>
                </div>


            </div>
        </div>
    </div>
</div>
<!-- Large modal ends here -->
<div id="specify_your_search_header">
        Specify your search
</div>

<div id="specify_your_search_content">
         <div class="row">
            <div class="col-md-4 ">
                <div class="form-inline">
                    <span class="glyphicon glyphicon-map-marker"></span> Location
                </div>
                <input type="text" class="form-control" id="location" placeholder="Your place" style="width:200px height:40px;">
                <div class="form-inline">
                    <span class="glyphicon glyphicon-send"></span> Distance
                </div>
                <div id="distance-slider" class="ui-slider" style="width:190px height:12px; ">
                    <span class="ui-slider-value first">0</span>

                    <span class="ui-slider-value last">&infin;</span>
                </div>
            </div>
           
            <div class="col-md-6">
                <div class="form-inline">
                    <span class="glyphicon glyphicon-tags"></span> &nbsp;Hashtag
                </div>
                <input name="tagsinput" class="tagsinput" value="Bike,Retro,Books" style="height:40px"/>
                <div class="form-inline">
                    <span class="glyphicon glyphicon-credit-card"></span> Price
                </div>
                <div id="price-slider" class="ui-slider" style="width:190px height:12px">
                    <span class="ui-slider-value first">0</span>
                    <span class="ui-slider-value last">&infin;</span>
                </div>
            </div>
            <div class="col-md-2 ">
                <div class="match">
                    <h3>Matches</h3>
                    <h1>63</h1>
                </div>
            </div>
        </div>
    </div>

<div id="search_results_header">
         Search result
</div>

<div id="main" role="main">
            <!-- Grid blocks -->
            <ul id="item_list">
                <div  class="item">
                    <img id=1 class="item_image" src="woomark/sample-images/image_1.jpg" width="230">
                    <div class="item_price">1000 DKK</div>
                    <div class="item_details">
                        <p class="header">Retro bike</p>
                        <p class="body">Totally restored retro fixi-bike with premium parts, no gear, 28” aluminium city tires, Brooks vintage saddle, Retro paddles, all aluminimum parts.</p>
                    </div>
                    <div class="item_footer">
                        <div class="time">
                            <div class="vertical-space-8px"></div>
                            <span class="glyphicon glyphicon-time"></span>
                            &nbsp;2days
                        </div>
                        <div class="view">
                            <div class="vertical-space-8px"></div>
                            <span class="glyphicon glyphicon-eye-open"></span>
                            &nbsp;86
                        </div>
                        <div class="like">
                            <div class="vertical-space-8px"></div>
                            <span class="glyphicon glyphicon-heart-empty"></span>
                            &nbsp;122
                        </div>
                    </div>
                </div>
                <div  class="item">
                    <img id=2 class="item_image" src="woomark/sample-images/image_2.jpg" width="230">
                    <div class="item_price">2000 DKK</div>
                    <div class="item_details">
                        <p class="header">Retro bike</p>
                        <p class="body">Totally restored retro fixi-bike with premium parts, no gear, 28” aluminium city tires, Brooks vintage saddle, Retro paddles, all aluminimum parts.</p>
                    </div>
                    <div class="item_footer">
                        <div class="time">
                            <div class="vertical-space-8px"></div>
                            <span class="glyphicon glyphicon-time"></span>
                            &nbsp;2days
                        </div>
                        <div class="view">
                            <div class="vertical-space-8px"></div>
                            <span class="glyphicon glyphicon-eye-open"></span>
                            &nbsp;86
                        </div>
                        <div class="like">
                            <div class="vertical-space-8px"></div>
                            <span class="glyphicon glyphicon-heart-empty"></span>
                            &nbsp;122
                        </div>
                    </div>
                </div>
                <div class="item">
                    <img id=3 class="item_image" src="woomark/sample-images/image_3.jpg" width="230">
                    <div class="item_price">3000 DKK</div>
                    <div class="item_details">
                        <p class="header">Retro bike</p>
                        <p class="body">Totally restored retro fixi-bike with premium parts, no gear, 28” aluminium city tires, Brooks vintage saddle, Retro paddles, all aluminimum parts.</p>
                    </div>
                    <div class="item_footer">
                        <div class="time">
                            <div class="vertical-space-8px"></div>
                            <span class="glyphicon glyphicon-time"></span>
                            &nbsp;2days
                        </div>
                        <div class="view">
                            <div class="vertical-space-8px"></div>
                            <span class="glyphicon glyphicon-eye-open"></span>
                            &nbsp;86
                        </div>
                        <div class="like">
                            <div class="vertical-space-8px"></div>
                            <span class="glyphicon glyphicon-heart-empty"></span>
                            &nbsp;122
                        </div>
                    </div>
                </div>
                <div class="item">
                    <img id=4 class="item_image" src="woomark/sample-images/image_4.jpg" width="230">
                    <div class="item_price">4000 DKK</div>
                    <div class="item_details">
                        <p class="header">Retro bike</p>
                        <p class="body">Totally restored retro fixi-bike with premium parts, no gear, 28” aluminium city tires, Brooks vintage saddle, Retro paddles, all aluminimum parts.</p>
                    </div>
                    <div class="item_footer">
                        <div class="time">
                            <div class="vertical-space-8px"></div>
                            <span class="glyphicon glyphicon-time"></span>
                            &nbsp;2days
                        </div>
                        <div class="view">
                            <div class="vertical-space-8px"></div>
                            <span class="glyphicon glyphicon-eye-open"></span>
                            &nbsp;86
                        </div>
                        <div class="like">
                            <div class="vertical-space-8px"></div>
                            <span class="glyphicon glyphicon-heart-empty"></span>
                            &nbsp;122
                        </div>
                    </div>
                </div>

            <!-- End of grid blocks -->
             </ul>

</div>

<div class="loading">More items are loading</div>

    <script src="flatui/js/jquery-1.8.3.min.js"></script>
    <script src="flatui/js/jquery-ui-1.10.3.custom.min.js"></script>
    <script src="flatui/js/jquery.ui.touch-punch.min.js"></script>
    <script src="flatui/js/bootstrap.min.js"></script>
    <script src="flatui/js/bootstrap-select.js"></script>
    <script src="flatui/js/bootstrap-switch.js"></script>
    <script src="flatui/js/flatui-checkbox.js"></script>
    <script src="flatui/js/flatui-radio.js"></script>
    <script src="flatui/js/jquery.tagsinput.js"></script>
    <script src="flatui/js/jquery.placeholder.js"></script>
    <script src="flatui/js/application.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/less.js/1.7.3/less.js"></script>
      <!-- Include the WOOMARK -->
        <!-- Include the plug-in -->
    <script src="woomark/jquery.wookmark.js"></script>
    <script src="masonry.pkgd.min.js"></script>
    <script type="text/javascript">
        $( document ).ready(function() {
            var $distanceslider = $("#distance-slider");
            var $priceslider = $("#price-slider");
            //$priceslider.slider();

            
            $distanceslider.slider({
                    min: 0,
                    max: 15,
                    value: 1,
                    step:5,
                    orientation: "horizontal",
                    range: "min",
                    slide: function(event, ui) {
                        console.log(ui.value);
                    }
            });
            
           $priceslider.slider({ 
                    min: 0,max: 15, 
                    value: 5, 
                    orientation: "horizontal",
                    range: "min", 
                    slide: repositionTooltip, 
                    stop: hideTooltip 
            });

            function repositionTooltip( e, ui ){
                var div = $(ui.handle).data("bs.tooltip").$tip[0];
                var pos = $.extend({}, $(ui.handle).offset(), { width: $(ui.handle).get(0).offsetWidth,
                                                        height: $(ui.handle).get(0).offsetHeight
                  });
        
                var actualWidth = div.offsetWidth;
        
                tp = {left: pos.left + pos.width / 2 - actualWidth / 2}            
                $(div).offset(tp);
        
                $(div).find(".tooltip-inner").text( ui.value );        
            }

             function hideTooltip( e, ui ){
                $("#price-slider .ui-slider-handle:first").tooltip().tooltip("hide");
                console.log('tooltip is hiding');
            }
    
            
            $("#price-slider .ui-slider-handle:first").tooltip( {title: $priceslider.slider("value"), placement: 'bottom', trigger: "focus"}).tooltip("hide");

            (function ($){
            
                    var handler = $('#item_list .item');

                    handler.wookmark({
                      // Prepare layout options.
                      autoResize: true, // This will auto-update the layout when the browser window is resized.
                      container: $('#main'), // Optional, used for some extra CSS styling
                      offset: 10, // Optional, the distance between grid items
                      outerOffset: -35, // Optional, the distance to the containers border
                      itemWidth: 230 // Optional, the width of a grid item
                    });

                  // Capture clicks on grid items.
                    handler.click(function(){
                    // Randomize the height of the clicked item.
                    //var newHeight = $('img', this).height() + Math.round(Math.random() * 300 + 30);
                    //$(this).css('height', newHeight+'px');

                    // Update the layout.
                    //handler.wookmark();

                    //show the moodle
                    $('.bs-example-modal-lg').modal({
                        show: true
                    })
                    //get the image
                    $image=$('img', this)[0].src;
                    //clear the modal placeholder
                    $("#modal_item_div").empty();
                    //load image in modal placeholder
                    $("#modal_item_div").append("<img id='modal_item_img' src="+$image+">");
                    });

            })(jQuery);

            // Add segments to a slider


        });
 
    </script>
</body>
</html>                                     